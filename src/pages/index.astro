---
import Layout from "../layouts/Layout.astro";
import Container from "../components/Layout/Container.astro";
import SpotlightCard from "../components/UI/SpotlightCard";
import MagneticButton from "../components/UI/MagneticButton";
import ScrollReveal from "../components/UI/ScrollReveal";
import TextReveal from "../components/UI/TextReveal";
import { getCollection } from "astro:content";

// Get featured projects
const allProjects = await getCollection("project", ({ data }) => {
    return data.isPublished !== false && data.showHome === true;
});

const featuredProjects = allProjects.sort(
    (a, b) =>
        new Date(b.data.publishedAt).getTime() -
        new Date(a.data.publishedAt).getTime(),
);

// Get latest blog posts
const allBlogPosts = await getCollection("blog", ({ data }) => {
    return data.isPublished !== false;
});

const latestBlogs = allBlogPosts
    .sort(
        (a, b) =>
            new Date(b.data.publishedAt).getTime() -
            new Date(a.data.publishedAt).getTime(),
    )
    .slice(0, 4);

const topProject = featuredProjects[0];
const recentProjects = featuredProjects.slice(0, 5);
const recentWriting = latestBlogs;

const experience = [
    {
        company: "Islands",
        date: "Apr 2023 - Present",
        description:
            "Building frontend development for high-impact web applications. Building scalable, performant user interfaces using modern technologies like Next.js and TypeScript.",
        tech: ["Next.js", "TypeScript", "Tailwind CSS"],
    },
    {
        company: "Elite Sports Tours Inc.",
        date: "Jun 2024 - Dec 2024",
        description:
            "Architected and implemented a complete frontend overhaul, significantly improving user experience. Built a custom package builder allowing users to create travel packages with tickets, hotels, and flights. Developed a modern, responsive hotel booking system with advanced filtering.",
        tech: ["React", "TypeScript", "Next.js", "Tailwind"],
    },
    {
        company: "DIG Labs",
        date: "Apr 2023 - Mar 2024",
        description:
            "Remote frontend engineer developing user experience for a veterinary tech app MVP. Built seamless user journeys using React, TypeScript, and REST API integrations.",
        tech: ["React", "TypeScript", "REST APIs"],
    },
    {
        company: "Hybe",
        date: "Sep 2021 - Dec 2022",
        description:
            "Contributed to the broader modernization effort by converting legacy class components to well-tested functional counterparts, expanding user-facing feature sets, and translating product design specs into pixel-perfect implementations. Helped elevate performance and reliability by optimizing components across browsers, introducing Framer Motion-powered animations, migrating critical flows to TypeScript + RTK Query, and wiring Firebase-backed real-time battle eventsâ€”resulting in faster releases and a noticeably smoother gameplay experience.",
        tech: ["React", "Redux Toolkit", "TypeScript", "Framer Motion"],
    },
    {
        company: "Upwork",
        date: "Nov 2020 - Sep 2021",
        description:
            "Freelance frontend developer working on multiple client projects. Led development teams, architected Next.js applications, and built scalable component systems. Delivered admin dashboards, responsive UIs, and implemented modern development practices including testing frameworks.",
        tech: [
            "React",
            "Next.js",
            "Styled-components",
            "Cypress",
            "Material-UI",
        ],
    },
];

// Structured data for SEO
const personSchema = {
    "@context": "https://schema.org",
    "@type": "Person",
    name: "Jude Tejada",
    jobTitle: "Front-end engineer",
    description:
        "Frontend engineer proficient in modern web applications and intuitive design, currently exploring backend systems.",
    url: "https://judetejada.dev",
    image: "https://judetejada.dev/banner.png",
    sameAs: [
        "https://github.com/judetejada",
        "https://linkedin.com/in/judetejada",
        "https://twitter.com/JudeTejada2",
        "https://dribbble.com/judetejada",
    ],
    knowsAbout: [
        "Front-end Development",
        "React",
        "Next.js",
        "Astro",
        "TypeScript",
        "JavaScript",
        "Web Development",
        "UI/UX Design",
    ],
    offers: {
        "@type": "Offer",
        serviceType: "Front-end Web Development",
        description:
            "Creating beautiful user experiences and modern web applications",
    },
};

const websiteSchema = {
    "@context": "https://schema.org",
    "@type": "WebSite",
    name: "Jude Tejada Portfolio",
    url: "https://judetejada.dev",
    description: "Frontend Developer portfolio showcasing projects and writing",
    author: {
        "@type": "Person",
        name: "Jude Tejada",
    },
    publisher: {
        "@type": "Person",
        name: "Jude Tejada",
    },
};

// SiteNavigationElement for Google Sitelinks
const siteNavigationSchema = {
    "@context": "https://schema.org",
    "@graph": [
        {
            "@type": "SiteNavigationElement",
            "@id": "https://judetejada.dev/#projects",
            name: "Projects",
            url: "https://judetejada.dev/project",
        },
        {
            "@type": "SiteNavigationElement",
            "@id": "https://judetejada.dev/#writing",
            name: "Writing",
            url: "https://judetejada.dev/blog",
        },
        {
            "@type": "SiteNavigationElement",
            "@id": "https://judetejada.dev/#about",
            name: "About",
            url: "https://judetejada.dev/about",
        },
        {
            "@type": "SiteNavigationElement",
            "@id": "https://judetejada.dev/#contact",
            name: "Contact",
            url: "https://judetejada.dev/contact",
        },
    ],
};
---

<Layout
  title='Jude Tejada - Front-end engineer'
  description='I am Jude Tejada, a Frontend engineer proficient in modern web applications and intuitive design, currently exploring backend systems.'
  canonical='https://judetejada.dev'
>
    <!-- Structured Data -->
    <script
        type="application/ld+json"
        set:html={JSON.stringify(personSchema)}
    />
    <script
        type="application/ld+json"
        set:html={JSON.stringify(websiteSchema)}
    />
    <script
        type="application/ld+json"
        set:html={JSON.stringify(siteNavigationSchema)}
    />

    <!-- Hero Section -->
    <section class="relative pt-12 pb-20 md:pt-24 md:pb-32 bg-white overflow-hidden">
        <!-- Ambient Gradient Orbs -->
        <div class="ambient-orb -top-40 -left-40 opacity-60"></div>
        <div class="ambient-orb ambient-orb-2 top-20 -right-40 opacity-40"></div>
        
        <Container>
            <div class="max-w-4xl mx-auto text-center px-4 relative">
                <h1
                    class="text-5xl md:text-7xl font-medium tracking-tight text-gray-900 mb-6 leading-[1.1]"
                >
                    <TextReveal client:load>Built to create</TextReveal>
                    <br />
                    <span class="text-gray-400">
                        <TextReveal client:load delay={150}>beautiful experiences.</TextReveal>
                    </span>
                </h1>
                <ScrollReveal client:load delay={300}>
                    <p
                        class="text-lg md:text-xl text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed"
                    >
                        I am Jude Tejada, a Frontend Developer proficient in modern
                        web applications and intuitive design, currently exploring
                        backend systems.
                    </p>
                </ScrollReveal>

                <ScrollReveal client:load delay={400}>
                    <div
                        class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16"
                    >
                        <MagneticButton
                            client:load
                            href="/project"
                            className="w-full sm:w-auto px-8 py-3 bg-black text-white rounded-full font-medium hover:bg-gray-800 transition-colors duration-200 text-center shimmer-link"
                            strength={0.2}
                        >
                            View Work
                        </MagneticButton>
                        <MagneticButton
                            client:load
                            href="/contact"
                            className="w-full sm:w-auto px-8 py-3 bg-white text-gray-900 border border-gray-200 rounded-full font-medium hover:bg-gray-50 transition-colors duration-200 text-center"
                            strength={0.2}
                        >
                            Contact Me
                        </MagneticButton>
                    </div>
                </ScrollReveal>
            </div>
        </Container>
    </section>

    <style>
        .animate-marquee {
            animation: marquee 25s linear infinite;
        }
        .animate-marquee2 {
            animation: marquee2 25s linear infinite;
        }
        @keyframes marquee {
            0% {
                transform: translateX(0%);
            }
            100% {
                transform: translateX(-100%);
            }
        }
        @keyframes marquee2 {
            0% {
                transform: translateX(100%);
            }
            100% {
                transform: translateX(0%);
            }
        }

        /* Pause on hover */
        .group:hover .animate-marquee,
        .group:hover .animate-marquee2 {
            animation-play-state: paused;
        }
    </style>

    <!-- Recent Projects -->
    <section class="py-24 bg-[#FCFCFC]">
        <Container>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                <div class="lg:col-span-4">
                    <ScrollReveal client:load>
                        <h2
                            class="text-2xl font-medium text-gray-900 sticky top-32"
                        >
                            Selected works
                        </h2>
                    </ScrollReveal>
                </div>
                <div class="lg:col-span-8 flex flex-col gap-4">
                    {
                        recentProjects.map((project, index) => (
                            <ScrollReveal client:load delay={index * 100}>
                                <a
                                    href={`/project/${project.slug}`}
                                    class="block group"
                                >
                                    <SpotlightCard
                                        client:load
                                        className="bg-gray-100 hover:bg-white transition-all duration-300 p-6 md:p-8 rounded-xl border border-gray-200/50 group-hover:border-gray-200 group-hover:shadow-lg card-lift"
                                        spotlightColor="rgba(0, 0, 0, 0.02)"
                                    >
                                        <div class="flex justify-between items-start mb-2">
                                            <h3
                                                class="text-lg font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200"
                                                transition:name={`project-title-${project.slug}`}
                                            >
                                                {project.data.title}
                                            </h3>
                                            <span class="text-xs font-medium text-gray-500 bg-gray-200 px-2 py-1 rounded-full badge-pulse">
                                                Project
                                            </span>
                                        </div>
                                        <p class="text-gray-600 text-sm leading-relaxed mb-4 line-clamp-2">
                                            {project.data.summary}
                                        </p>
                                        <div
                                            class="text-xs text-gray-400 font-medium uppercase tracking-wide"
                                            transition:name={`project-date-${project.slug}`}
                                        >
                                            {new Date(
                                                project.data.publishedAt,
                                            ).toLocaleDateString("en-US", {
                                                month: "short",
                                                year: "numeric",
                                            })}
                                        </div>
                                    </SpotlightCard>
                                </a>
                            </ScrollReveal>
                        ))
                    }

                    <ScrollReveal client:load delay={500}>
                        <div class="mt-6 text-right">
                            <a
                                href="/project"
                                class="text-sm font-medium text-gray-500 hover:text-black transition-colors duration-200 inline-flex items-center gap-1 group underline-draw"
                            >
                                View all projects <span
                                    class="icon-bounce">&rarr;</span
                                >
                            </a>
                        </div>
                    </ScrollReveal>
                </div>
            </div>
        </Container>
    </section>

    <!-- Experience -->
    <section class="py-24 bg-white border-t border-gray-100">
        <Container>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                <div class="lg:col-span-4">
                    <ScrollReveal client:load>
                        <h2
                            class="text-2xl font-medium text-gray-900 sticky top-32"
                        >
                            Experience
                        </h2>
                    </ScrollReveal>
                </div>
                <div class="lg:col-span-8 flex flex-col gap-8">
                    {
                        experience.map((job, index) => (
                            <ScrollReveal client:load delay={index * 100}>
                                <div class="group relative pl-8 border-l border-gray-200 hover:border-gray-400 transition-colors duration-300">
                                    <div class="absolute -left-[5px] top-2 w-2.5 h-2.5 rounded-full bg-gray-200 group-hover:bg-black group-hover:scale-125 transition-all duration-300" />
                                    <div class="flex flex-col sm:flex-row sm:items-baseline sm:justify-between mb-2">
                                        <h3 class="text-lg font-medium text-gray-900 group-hover:translate-x-1 transition-transform duration-300">
                                            {job.company}
                                        </h3>
                                        <span class="text-xs font-medium text-gray-500 uppercase tracking-wide">
                                            {job.date}
                                        </span>
                                    </div>
                                    <p class="text-gray-600 text-sm leading-relaxed mb-4 max-w-2xl">
                                        {job.description}
                                    </p>
                                    <div class="flex flex-wrap gap-2">
                                        {job.tech.map((t) => (
                                            <span class="text-xs font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded-md badge-pulse">
                                                {t}
                                            </span>
                                        ))}
                                    </div>
                                </div>
                            </ScrollReveal>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <!-- Writing / Blog -->
    <section class="py-24 bg-[#FCFCFC] border-t border-gray-100">
        <Container>
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
                <div class="lg:col-span-4">
                    <ScrollReveal client:load>
                        <h2
                            class="text-2xl font-medium text-gray-900 sticky top-32"
                        >
                            Writing
                        </h2>
                    </ScrollReveal>
                </div>
                <div class="lg:col-span-8 flex flex-col gap-4">
                    {
                        recentWriting.map((post, index) => (
                            <ScrollReveal client:load delay={index * 80}>
                                <a href={`/blog/${post.slug}`} class="block group">
                                    <SpotlightCard
                                        client:load
                                        className="group-hover:bg-white transition-all duration-300 p-6 md:p-8 rounded-xl border border-transparent group-hover:border-gray-100 group-hover:shadow-soft card-lift"
                                        spotlightColor="rgba(0, 0, 0, 0.015)"
                                    >
                                        <div class="flex justify-between items-start mb-2">
                                            <h3
                                                class="text-lg font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200"
                                                transition:name={`post-title-${post.slug}`}
                                            >
                                                {post.data.title}
                                            </h3>
                                        </div>
                                        <p class="text-gray-600 text-sm leading-relaxed mb-4 line-clamp-2">
                                            {post.data.summary}
                                        </p>
                                        <div
                                            class="text-xs text-gray-400 font-medium uppercase tracking-wide"
                                            transition:name={`post-date-${post.slug}`}
                                        >
                                            {new Date(
                                                post.data.publishedAt,
                                            ).toLocaleDateString("en-US", {
                                                month: "short",
                                                year: "numeric",
                                            })}
                                        </div>
                                    </SpotlightCard>
                                </a>
                            </ScrollReveal>
                        ))
                    }

                    <ScrollReveal client:load delay={400}>
                        <div class="mt-6 text-right">
                            <a
                                href="/blog"
                                class="text-sm font-medium text-gray-500 hover:text-black transition-colors duration-200 inline-flex items-center gap-1 group underline-draw"
                            >
                                Read all articles <span
                                    class="icon-bounce">&rarr;</span
                                >
                            </a>
                        </div>
                    </ScrollReveal>
                </div>
            </div>
        </Container>
    </section>

    <!-- Bottom CTA -->
    <section class="py-32 bg-white text-center border-t border-gray-100 relative overflow-hidden">
        <!-- Ambient orb for CTA -->
        <div class="ambient-orb bottom-0 left-1/2 -translate-x-1/2 opacity-50"></div>
        
        <Container>
            <ScrollReveal client:load>
                <h2
                    class="text-4xl md:text-6xl font-medium text-gray-900 mb-8 tracking-tight"
                >
                    <TextReveal client:load>Work with me.</TextReveal>
                </h2>
            </ScrollReveal>
            <ScrollReveal client:load delay={200}>
                <div class="flex justify-center">
                    <MagneticButton
                        client:load
                        href="/contact"
                        className="inline-flex items-center justify-center px-8 py-4 bg-black text-white rounded-full font-medium text-lg hover:bg-gray-800 transition-colors duration-200 shadow-soft hover:shadow-hover shimmer-link"
                        strength={0.25}
                    >
                        Get in touch <span class="ml-2 icon-bounce">&darr;</span>
                    </MagneticButton>
                </div>
            </ScrollReveal>
        </Container>
    </section>
</Layout>
