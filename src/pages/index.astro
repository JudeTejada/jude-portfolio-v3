---
import Layout from '../layouts/Layout.astro';
import Container from '../components/Layout/Container.astro';
import { getCollection } from 'astro:content';

// Get featured projects
const allProjects = await getCollection('project', ({ data }) => {
  return data.isPublished !== false && data.showHome === true;
});

const featuredProjects = allProjects.sort(
  (a, b) =>
    new Date(b.data.publishedAt).getTime() -
    new Date(a.data.publishedAt).getTime()
);

// Get latest blog posts
const allBlogPosts = await getCollection('blog', ({ data }) => {
  return data.isPublished !== false;
});

const latestBlogs = allBlogPosts
  .sort(
    (a, b) =>
      new Date(b.data.publishedAt).getTime() -
      new Date(a.data.publishedAt).getTime()
  )
  .slice(0, 4);

const topProject = featuredProjects[0];
const recentProjects = featuredProjects.slice(1, 5);
const recentWriting = latestBlogs;

// Structured data for SEO
const structuredData = {
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Jude Tejada",
  "jobTitle": "Front-end Developer",
  "description": "A front-end developer who focuses on creating beautiful user experiences and modern web applications.",
  "url": "https://judetejada.com",
  "image": "https://judetejada.com/banner.png",
  "sameAs": [
    "https://github.com/judetejada",
    "https://linkedin.com/in/judetejada",
    "https://twitter.com/JudeTejada2",
    "https://dribbble.com/judetejada"
  ],
  "knowsAbout": [
    "Front-end Development",
    "React",
    "Next.js",
    "Astro",
    "TypeScript",
    "JavaScript",
    "Web Development",
    "UI/UX Design"
  ],
  "offers": {
    "@type": "Offer",
    "serviceType": "Front-end Web Development",
    "description": "Creating beautiful user experiences and modern web applications"
  }
};
---
<Layout
  title="Jude Tejada - Front-end Developer"
  description="Jude Tejada - A front-end developer who focuses on creating beautiful user experiences and modern web applications."
  canonical="https://judetejada.com"
>
  <!-- Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />

  <!-- Hero Section -->
  <section class="pt-12 pb-20 md:pt-24 md:pb-32 bg-white overflow-hidden">
    <Container>
      <div class="max-w-4xl mx-auto text-center px-4">
        <h1 class="text-5xl md:text-7xl font-medium tracking-tight text-gray-900 mb-6 leading-[1.1]">
          Built to create <br/>
          <span class="text-gray-400">beautiful experiences.</span>
        </h1>
        <p class="text-lg md:text-xl text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed">
          I am Jude Tejada, a Front-end Developer focusing on modern web applications and intuitive design.
        </p>
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16">
           <a href="/project" class="w-full sm:w-auto px-8 py-3 bg-black text-white rounded-full font-medium hover:bg-gray-800 transition text-center">View Work</a>
           <a href="/contact" class="w-full sm:w-auto px-8 py-3 bg-white text-gray-900 border border-gray-200 rounded-full font-medium hover:bg-gray-50 transition text-center">Contact Me</a>
        </div>


      </div>
    </Container>
  </section>

  <!-- Tech Stack -->
  <section class="py-12 border-y border-gray-100 bg-gray-50/50 overflow-hidden">
     <Container>
        <p class="text-center text-sm font-medium text-gray-400 mb-8 uppercase tracking-wider">Technologies I work with</p>
        
        <div class="relative flex overflow-x-hidden group">
            <div class="animate-marquee whitespace-nowrap flex items-center gap-12 pr-12">
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">React</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Next.js</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Astro</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">TypeScript</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Tailwind CSS</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Node.js</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Svelte</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">SvelteKit</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">SolidJS</span>
            </div>

            <div class="absolute top-0 animate-marquee2 whitespace-nowrap flex items-center gap-12 pr-12">
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">React</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Next.js</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Astro</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">TypeScript</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Tailwind CSS</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Node.js</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">Svelte</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">SvelteKit</span>
                <span class="text-xl md:text-2xl font-bold text-gray-300 hover:text-gray-900 transition-colors duration-300 cursor-default">SolidJS</span>
            </div>
        </div>
     </Container>
  </section>

  <style>
    .animate-marquee {
      animation: marquee 25s linear infinite;
    }
    .animate-marquee2 {
      animation: marquee2 25s linear infinite;
    }
    @keyframes marquee {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }
    @keyframes marquee2 {
      0% { transform: translateX(100%); }
      100% { transform: translateX(0%); }
    }
    
    /* Pause on hover */
    .group:hover .animate-marquee,
    .group:hover .animate-marquee2 {
        animation-play-state: paused;
    }
  </style>

  <!-- Recent Projects -->
  <section class="py-24 bg-[#FCFCFC]">
    <Container>
       <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
          <div class="lg:col-span-4">
             <h2 class="text-2xl font-medium text-gray-900 sticky top-32">Selected works</h2>
          </div>
          <div class="lg:col-span-8 flex flex-col gap-4">
             {recentProjects.map((project) => (
                 <a href={`/project/${project.slug}`} class="block group">
                    <div class="bg-gray-100 hover:bg-white hover:shadow-lg transition-all duration-300 p-6 md:p-8 rounded-xl border border-gray-200/50 group-hover:border-gray-200">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-lg font-medium text-gray-900 group-hover:text-blue-600 transition">{project.data.title}</h3>
                            <span class="text-xs font-medium text-gray-500 bg-gray-200 px-2 py-1 rounded-full">
                                Project
                            </span>
                        </div>
                        <p class="text-gray-600 text-sm leading-relaxed mb-4 line-clamp-2">{project.data.summary}</p>
                        <div class="text-xs text-gray-400 font-medium uppercase tracking-wide">
                            {new Date(project.data.publishedAt).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}
                        </div>
                    </div>
                 </a>
             ))}

             <div class="mt-6 text-right">
                <a href="/project" class="text-sm font-medium text-gray-500 hover:text-black transition inline-flex items-center gap-1 group">
                   View all projects <span class="group-hover:translate-x-1 transition-transform">&rarr;</span>
                </a>
             </div>
          </div>
       </div>
    </Container>
  </section>

  <!-- Writing / Blog -->
  <section class="py-24 bg-white border-t border-gray-100">
    <Container>
       <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">
          <div class="lg:col-span-4">
             <h2 class="text-2xl font-medium text-gray-900 sticky top-32">Writing</h2>
          </div>
          <div class="lg:col-span-8 flex flex-col gap-4">
             {recentWriting.map((post) => (
                 <a href={`/blog/${post.slug}`} class="block group">
                    <div class="group-hover:bg-gray-50 transition-all duration-300 p-6 md:p-8 rounded-xl border border-transparent group-hover:border-gray-100">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-lg font-medium text-gray-900 group-hover:text-blue-600 transition">{post.data.title}</h3>
                        </div>
                        <p class="text-gray-600 text-sm leading-relaxed mb-4 line-clamp-2">{post.data.summary}</p>
                        <div class="text-xs text-gray-400 font-medium uppercase tracking-wide">
                            {new Date(post.data.publishedAt).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}
                        </div>
                    </div>
                 </a>
             ))}

             <div class="mt-6 text-right">
                <a href="/blog" class="text-sm font-medium text-gray-500 hover:text-black transition inline-flex items-center gap-1 group">
                   Read all articles <span class="group-hover:translate-x-1 transition-transform">&rarr;</span>
                </a>
             </div>
          </div>
       </div>
    </Container>
  </section>

  <!-- Bottom CTA -->
  <section class="py-32 bg-white text-center border-t border-gray-100">
    <Container>
      <h2 class="text-4xl md:text-6xl font-medium text-gray-900 mb-8 tracking-tight">Work with me.</h2>
      <div class="flex justify-center">
          <a href="/contact" class="inline-flex items-center justify-center px-8 py-4 bg-black text-white rounded-full font-medium text-lg hover:bg-gray-800 transition shadow-xl hover:shadow-2xl hover:-translate-y-1 duration-300">
            Get in touch &darr;
          </a>
      </div>
    </Container>
  </section>

</Layout>