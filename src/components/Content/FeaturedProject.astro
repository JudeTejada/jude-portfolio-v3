---
import { Image } from 'astro:assets';

interface Props {
  title: string;
  summary: string;
  image?: string | ImageMetadata;
  slug: string;
}

const { title, summary, image, slug } = Astro.props;
---

<div
  class='bg-gray-50 text-gray-900 rounded-3xl overflow-hidden p-8 md:p-12 flex flex-col lg:flex-row items-center gap-8 md:gap-12 lg:gap-16 border border-gray-200 hover:border-gray-300 transition-colors'
>
  <div class='flex-1 order-2 lg:order-1 flex flex-col justify-center'>
    <h3
      class='text-3xl md:text-4xl lg:text-5xl font-bold mb-6 text-gray-900 leading-tight'
    >
      {title}
    </h3>
    <p class='text-gray-600 text-lg mb-8 leading-relaxed'>
      {summary}
    </p>
    <a
      href={`/project/${slug}`}
      class='inline-flex items-center text-blue-600 hover:text-blue-700 font-medium text-lg transition-colors group'
    >
      Learn about {title}
      <svg
        class='w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform'
        fill='none'
        stroke='currentColor'
        viewBox='0 0 24 24'
      >
        <path
          stroke-linecap='round'
          stroke-linejoin='round'
          stroke-width='2'
          d='M17 8l4 4m0 0l-4 4m4-4H3'></path>
      </svg>
    </a>
  </div>

  <div class='flex-1 w-full lg:w-auto order-1 lg:order-2'>
    {
      image && (
        <div class='relative rounded-xl overflow-hidden shadow-soft bg-gray-200 aspect-video lg:aspect-[4/3] group-hover:shadow-hover transition-shadow duration-500'>
          {typeof image === 'object' && image !== null ? (
            <Image
              src={image}
              alt={title}
              class='w-full h-full object-cover'
              loading='lazy'
              decoding='async'
              format='webp'
              quality={80}
              sizes='(min-width: 1024px) 400px, (min-width: 768px) 50vw, 100vw'
              layout='constrained'
            />
          ) : (
            <img
              src={image as string}
              alt={title}
              class='w-full h-full object-cover'
              loading='lazy'
              decoding='async'
            />
          )}
          <div class='absolute inset-0 ring-1 ring-inset ring-black/5 rounded-xl pointer-events-none' />
        </div>
      )
    }
  </div>
</div>
