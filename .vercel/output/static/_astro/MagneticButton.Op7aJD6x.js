import{j as p}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.DhY--VwN.js";const F=({children:l,className:R="",onClick:d,href:f,strength:o=.3})=>{const e=n.useRef(null),a=n.useRef(null),r=n.useRef(null),t=n.useRef({x:0,y:0}),m=(s,c,i)=>s+(c-s)*i,u=n.useCallback(()=>{if(!e.current)return;const s=t.current.x,c=t.current.y;t.current.x=m(s,0,.15),t.current.y=m(c,0,.15),e.current.style.transform=`translate(${t.current.x}px, ${t.current.y}px)`,Math.abs(t.current.x)>.01||Math.abs(t.current.y)>.01?r.current=requestAnimationFrame(u):r.current=null},[]),x=n.useCallback(s=>{if(!e.current||!a.current)return;const{clientX:c,clientY:i}=s,{left:C,top:v,width:$,height:j}=a.current,E=C+$/2,g=v+j/2,h=c-E,k=i-g;t.current.x=h*o,t.current.y=k*o,e.current.style.transform=`translate(${t.current.x}px, ${t.current.y}px)`,r.current||(r.current=requestAnimationFrame(u))},[o,u]),b=n.useCallback(()=>{e.current&&(a.current=e.current.getBoundingClientRect())},[]),M=n.useCallback(()=>{t.current={x:0,y:0},r.current&&cancelAnimationFrame(r.current),e.current&&(e.current.style.transform="translate(0, 0)",e.current.style.transition="transform 0.4s cubic-bezier(0.16, 1, 0.3, 1)"),setTimeout(()=>{e.current&&(e.current.style.transition="")},400)},[u]),y=`magnetic-button inline-flex items-center justify-center ${R}`.trim();return f?p.jsx("a",{ref:e,href:f,className:y,onMouseMove:x,onMouseEnter:b,onMouseLeave:M,children:l}):p.jsx("button",{ref:e,className:y,onClick:d,onMouseMove:x,onMouseEnter:b,onMouseLeave:M,children:l})};export{F as default};
