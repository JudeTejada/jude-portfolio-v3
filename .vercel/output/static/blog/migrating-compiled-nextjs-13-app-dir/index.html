<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="description" content="Sharing my experience on migrating my side project  compiled to using the app directory of Next 13"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.15.3"><!-- SEO Meta Tags --><title>Migrating Compiled to using Next 13 app directory</title><meta name="author" content="Jude Tejada"><meta name="keywords" content="Jude Tejada, front-end developer, web development, portfolio, Next.js, React, Astro, TypeScript"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:title" content="Migrating Compiled to using Next 13 app directory"><meta property="og:description" content="Sharing my experience on migrating my side project  compiled to using the app directory of Next 13"><meta property="og:image" content="/banner.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:title" content="Migrating Compiled to using Next 13 app directory"><meta property="twitter:description" content="Sharing my experience on migrating my side project  compiled to using the app directory of Next 13"><meta property="twitter:image" content="/banner.png"><meta property="twitter:creator" content="@JudeTejada2"><!-- Canonical URL --><link rel="canonical" href="https://judetejada.com/blog/migrating-compiled-nextjs-13-app-dir"><link rel="stylesheet" href="/_astro/about.ARBRYl0y.css">
<style>.table-of-contents[data-astro-cid-ozk6wdpv]{position:fixed;top:50%;right:2rem;transform:translateY(-50%);width:200px;max-height:60vh;opacity:0;transition:opacity .5s ease-in-out;z-index:10}.table-of-contents[data-astro-cid-ozk6wdpv].visible{opacity:1}.toc-container[data-astro-cid-ozk6wdpv]{background-color:#fffffff2;backdrop-filter:blur(4px);border:1px solid rgb(229,231,235);border-radius:.5rem;padding:1rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.toc-title[data-astro-cid-ozk6wdpv]{font-size:.75rem;font-weight:600;color:#111827;margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.1em}.toc-list[data-astro-cid-ozk6wdpv]{display:flex;flex-direction:column;gap:.25rem}.toc-item[data-astro-cid-ozk6wdpv]{list-style:none}.toc-link[data-astro-cid-ozk6wdpv]{color:#4b5563;font-size:.875rem;line-height:1.4;display:block;padding:.25rem .5rem;border-radius:.25rem;transition:color .2s ease-in-out,background-color .2s ease-in-out;text-decoration:none}.toc-link[data-astro-cid-ozk6wdpv]:hover{color:#2563eb;background-color:#eff6ff}.toc-level-2[data-astro-cid-ozk6wdpv]{margin-left:0}.toc-level-3[data-astro-cid-ozk6wdpv]{margin-left:.75rem}.toc-level-3[data-astro-cid-ozk6wdpv] .toc-link[data-astro-cid-ozk6wdpv]{font-size:.75rem}@media(max-width:1280px){.table-of-contents[data-astro-cid-ozk6wdpv]{right:1rem;width:180px}}@media(max-width:1024px){.table-of-contents[data-astro-cid-ozk6wdpv]{right:.5rem;width:160px}}
</style></head> <body> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="1IELKA" prefix="r1" component-url="/_astro/Navbar.Dbh5YsVM.js" component-export="default" renderer-url="/_astro/client.BfPWZUkF.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;Navbar&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/icon/github.svg"/><link rel="preload" as="image" href="/icon/linkedin.svg"/><link rel="preload" as="image" href="/icon/twitter.svg"/><link rel="preload" as="image" href="/icon/menu.svg"/><header class="fixed w-full z-40 bg-white"><main class="container mx-auto px-6 lg:px-16"><nav class="flex items-center justify-between py-6"><div class="flex items-center"><a href="/" aria-label="Jude Tejada Logo" class="font-black text-2xl cursor-pointer mr-6 border-2 border-gray-400">JD.</a><div class="flex items-center"><a title="Github" href="https://github.com/JudeTejada" rel="noreferrer" target="_blank"><img src="/icon/github.svg" alt="GitHub" class="duration-100 ease-in cursor-pointer text-gray-400 hover:text-black focus-visible:text-black w-6 h-6"/></a><a title="LinkedIn" href="https://www.linkedin.com/in/jude-tejada-696051199/" rel="noreferrer" target="_blank"><img src="/icon/linkedin.svg" alt="LinkedIn" class="mx-2 duration-100 ease-in cursor-pointer text-gray-400 hover:text-blue-600 focus-visible:text-blue-600 w-6 h-6"/></a><a title="Twitter" href="https://twitter.com/JudeTejada2" rel="noreferrer" target="_blank"><img src="/icon/twitter.svg" alt="Twitter" class="duration-100 ease-in cursor-pointer text-gray-400 hover:text-blue-500 focus-visible:text-blue-500 w-6 h-6"/></a></div></div><div class="items-center hidden lg:flex"><a href="/blog" class="font-light outline-none hover:text-blue-500 px-6">Blog</a><a href="/project" class="font-light outline-none hover:text-blue-500 px-6">Project</a><a href="/about" class="font-light outline-none hover:text-blue-500 px-6">About</a><a href="/contact"><button class="px-6 p-2 bg-blue-500 text-white rounded-md ease-in duration-100 hover:bg-blue-600">Contact me</button></a></div><button class="md:hidden" aria-label="Open menu"><img src="/icon/menu.svg" alt="Menu" class="w-6 h-6"/></button></nav></main></header><!--astro:end--></astro-island> <main class="pt-24">   <script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Migrating Compiled to using Next 13 app directory","description":"Sharing my experience on migrating my side project  compiled to using the app directory of Next 13","image":"/images/compiled/banner-2.png","datePublished":"2023-03-17","dateModified":"2023-03-17","author":{"@type":"Person","name":"Jude Tejada","url":"https://judetejada.com"},"publisher":{"@type":"Person","name":"Jude Tejada","url":"https://judetejada.com"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://judetejada.com/blog/migrating-compiled-nextjs-13-app-dir"},"url":"https://judetejada.com/blog/migrating-compiled-nextjs-13-app-dir","keywords":"notes, code"}</script> <div class="container mx-auto px-6 lg:px-16 ">  <div class="py-20"> <!-- Enhanced Header --> <header class="mb-16 text-center max-w-4xl mx-auto"> <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 shadow-sm border border-blue-100"> <h1 class="font-bold text-5xl tracking-normal leading-tight lg:text-6xl mb-6">Migrating Compiled to using Next 13 app directory</h1> <div class="flex items-center justify-center gap-2 text-gray-600 mb-6"> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path> </svg> <time datetime="2023-03-17">March 17, 2023</time> </div> <div class="flex flex-wrap justify-center gap-2"> <span class="inline-block bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm px-3 py-1.5 rounded-full shadow-sm hover:shadow-md transition-shadow"> notes </span><span class="inline-block bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm px-3 py-1.5 rounded-full shadow-sm hover:shadow-md transition-shadow"> code </span> </div> </div> </header> <!-- Two-column layout for tablet and desktop --> <div class="flex gap-8 max-w-6xl mx-auto"> <!-- Main Content --> <main class="flex-1 min-w-0"> <article class="prose prose-lg max-w-none"> <img src="/images/compiled/banner-2.png" alt="Picture of Quick Links" width="720" height="540" class="m-0 " loading="eager">
<h2 id="overview">Overview</h2>
<p>In this article, I’ll share my experiences and process for migrating my side project, Compiled, to use the app directory of Next 13. This will be my first time trying out the app directory of Next 13, and I’m excited to use it once the app directory becomes stable.</p>
<h2 id="process">Process</h2>
<p>During the migration, I started by reading the first page of the <a href="https://beta.nextjs.org/docs">docs</a>. As the app directory introduces a new way of structuring your pages, along with the addition of server components, I had to relearn new concepts. Learning it was quite easy overall. After reading the getting started page, I moved straight to the migration guide and began migrating my pages one by one.</p>
<h2 id="problems-encountered">Problems Encountered</h2>
<p>Migrating Compiled to the Next 13 app directory was smooth, although I encountered some unexplainable error logs that were hard to debug. So, I had to check my code one by one to see where I went wrong.</p>
<p>I also found that there’s currently no support for Vercel OG generation in the Next.js beta docs, so if you’re currently using it, I’d suggest waiting a bit longer. Additionally, there isn’t yet support for the <code>useParams</code> hook for getting dynamic parameters of a page, so I had to use some hacky ways to get the dynamic parameters.</p>
<h2 id="using-tailwind-in-the-app-directory">Using Tailwind in the App Directory</h2>
<p>If you’re using Tailwind, don’t forget to add the <code>app</code> folder directory to your Tailwind config file. Otherwise, you might end up like me, debugging for an hour and getting frustrated about why Tailwind styles aren’t working at all.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#79B8FF">module</span><span style="color:#E1E4E8">.</span><span style="color:#79B8FF">exports</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#E1E4E8">  content: [</span></span>
<span class="line"><span style="color:#9ECBFF">    &quot;./app/**/*.{js,ts,jsx,tsx}&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    &quot;./pages/**/*.{js,ts,jsx,tsx}&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">    &quot;./components/**/*.{js,ts,jsx,tsx}&quot;</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#E1E4E8">  ],</span></span>
<span class="line"><span style="color:#F97583">  ...</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>In conclusion, migrating a project to use the app directory of Next 13 was smooth, however there were challenges that you might encounter, such as unhelpful error logs. You may also expect some lack of support for certain features while doing your migration. So it’s best to migrate once the app directory becomes fully stable and ready to be used.</p> </article> </main> <!-- Table of Contents (visible on tablet and desktop) --> <aside class="hidden lg:block w-64 flex-shrink-0"> <div id="table-of-contents" class="table-of-contents hidden md:block" data-astro-cid-ozk6wdpv><div class="toc-container" data-astro-cid-ozk6wdpv><h3 class="toc-title" data-astro-cid-ozk6wdpv>Contents</h3><nav class="toc-nav" data-astro-cid-ozk6wdpv><ul class="toc-list" data-astro-cid-ozk6wdpv><li class="toc-item toc-level-2" data-astro-cid-ozk6wdpv><a href="#overview" class="toc-link" data-section="overview" data-astro-cid-ozk6wdpv>Overview</a></li><li class="toc-item toc-level-2" data-astro-cid-ozk6wdpv><a href="#process" class="toc-link" data-section="process" data-astro-cid-ozk6wdpv>Process</a></li><li class="toc-item toc-level-2" data-astro-cid-ozk6wdpv><a href="#problems-encountered" class="toc-link" data-section="problems-encountered" data-astro-cid-ozk6wdpv>Problems Encountered</a></li><li class="toc-item toc-level-2" data-astro-cid-ozk6wdpv><a href="#using-tailwind-in-the-app-directory" class="toc-link" data-section="using-tailwind-in-the-app-directory" data-astro-cid-ozk6wdpv>Using Tailwind in the App Directory</a></li><li class="toc-item toc-level-2" data-astro-cid-ozk6wdpv><a href="#conclusion" class="toc-link" data-section="conclusion" data-astro-cid-ozk6wdpv>Conclusion</a></li></ul></nav></div></div><script type="module">document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("table-of-contents");if(!e||!document.querySelector("h2[id]")&&!document.querySelector("h3[id]"))return;const s=new IntersectionObserver(t=>{t.forEach(o=>{o.isIntersecting&&e.classList.add("visible")})},{rootMargin:"-20% 0px -70% 0px",threshold:0}),n=document.querySelector("h2[id], h3[id]");n&&s.observe(n),e.querySelectorAll(".toc-link").forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();const i=t.getAttribute("href").substring(1),r=document.getElementById(i);if(r){const c=r.offsetTop-100;window.scrollTo({top:c,behavior:"smooth"})}})})});</script> </aside> </div> </div>  </div>  </main> <footer class="py-6 pt-20"> <div class="container mx-auto px-6 lg:px-16 ">  <div class="flex flex-col items-center justify-center"> <a href="/" aria-label="Jude Tejada Logo"> <h3 class="font-black text-2xl cursor-pointer mr-6 border-2 border-gray-dark">
JD.
</h3> </a> <p class="text-base text-gray-700 font-normal leading-relaxed tracking-wide">
© 2023 Jude Tejada
</p> </div>  </div> </footer> </body></html>